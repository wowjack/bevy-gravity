Gravity will only be calculated based on the position of the central body of the current system and the parent system

In a galaxy, the gravitational acceleration exerted by stars is negligible outside of their hill sphere

In a stellar system, the gravitational acceleration of planets is negligible outside of their hill sphere

The hill sphere only roughly dictates whether a body of negligible mass within it can be gravitationally
captured by the center body. The sun will still perturb orbits of bodies orbiting at the outer reaches 
of the earth's hill sphere. Is it worth calculating gravity for the center body of the parent system?

Having to consider the effect of one or two bodies should massively simplfy things and keep computation
consistent across levels of the tree. The only difference is that systems with lots of child systems will
still need to calculate distance to detect if a body is entering the child system.




